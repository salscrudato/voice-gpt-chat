import{r as o,j as r,k as d,R as u}from"./chunks/react-jcPztmuw.js";import{L as p,C as f}from"./chunks/pages-Ct9wr-UM.js";import{o as m,p as g,q as h}from"./chunks/utils-IU58izPT.js";import"./chunks/components-DfQhApKX.js";import"./chunks/firebase-BDQ_IqO2.js";import"./chunks/services-BPztF7Fs.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function c(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=c(e);fetch(e.href,t)}})();function x(){const[a,i]=o.useState(null),[c,s]=o.useState(!0),[e,t]=o.useState(null);return o.useEffect(()=>{(async()=>{try{m(),await g();const l=h();i(l)}catch(l){console.error("Failed to initialize app:",l),t("Failed to initialize authentication. Please refresh the page.")}finally{s(!1)}})()},[]),c?r.jsx("div",{className:"app-container",children:r.jsx("div",{className:"loading",children:"Initializing..."})}):e?r.jsx("div",{className:"app-container",children:r.jsx("div",{style:{padding:"20px",color:"red",textAlign:"center"},children:r.jsx("p",{children:e})})}):r.jsx("div",{className:"app-container",children:a?r.jsx(f,{userName:a,onSignOut:()=>i(null)}):r.jsx(p,{onNameSet:i})})}d.createRoot(document.getElementById("root")).render(r.jsx(u.StrictMode,{children:r.jsx(x,{})}));
