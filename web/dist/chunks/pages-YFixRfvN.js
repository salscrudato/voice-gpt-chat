import{r as i,j as e,c as o,h as x}from"./react-jcPztmuw.js";import{n as j,s as N}from"./utils-CIU3sW5n.js";import{U as v,C as g}from"./components-Cm3evySW.js";function C({onNameSet:r}){const[s,t]=i.useState(""),[a,c]=i.useState(!1),[d,n]=i.useState(null),u=async l=>{l.preventDefault();const m=j(s);if(!m.valid){n(m.error||"Invalid name");return}c(!0),n(null);try{if(!N(s)){n("Failed to save name");return}r(s.trim())}catch(h){n(h.message||"Failed to save name")}finally{c(!1)}};return e.jsx("div",{className:"landing-container",children:e.jsxs("div",{className:"landing-card",children:[e.jsxs("h1",{children:[e.jsx(o,{size:40})," Welcome to VoiceGPT"]}),e.jsx("p",{className:"subtitle",children:"Let's get started!"}),e.jsxs("form",{onSubmit:u,className:"name-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"What's your name?"}),e.jsx("input",{id:"name",type:"text",value:s,onChange:l=>{t(l.target.value),n(null)},placeholder:"Enter your name",disabled:a,autoFocus:!0,maxLength:50}),e.jsxs("p",{className:"char-count",children:[s.length,"/50"]})]}),d&&e.jsx("div",{className:"error-message",children:d}),e.jsx("button",{type:"submit",disabled:a,className:"continue-btn",children:a?"Continuing...":"Continue"})]}),e.jsxs("div",{className:"info-section",children:[e.jsx("h3",{children:"Your voice memos will be tagged with:"}),e.jsx("div",{className:"info-box",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",s||"Your name"]})})]})]})})}function y({userName:r,onSignOut:s}){const[t,a]=i.useState("chat"),c=()=>{localStorage.removeItem("userName"),s()};return e.jsxs("div",{className:"chat-page",children:[e.jsxs("header",{className:"chat-header",children:[e.jsxs("h1",{children:[e.jsx(o,{size:32})," VoiceGPT"]}),e.jsxs("div",{className:"header-right",children:[e.jsx("span",{className:"user-name",children:r}),e.jsx("button",{onClick:c,className:"clear-name-btn",children:"Change Name"})]})]}),e.jsxs("div",{className:"chat-tabs",children:[e.jsxs("button",{className:`tab ${t==="record"?"active":""}`,onClick:()=>a("record"),children:[e.jsx(o,{size:20})," Record Memo"]}),e.jsxs("button",{className:`tab ${t==="chat"?"active":""}`,onClick:()=>a("chat"),children:[e.jsx(x,{size:20})," Chat"]})]}),e.jsx("div",{className:"chat-content",children:t==="record"?e.jsx(v,{userName:r}):e.jsx(g,{})})]})}export{y as C,C as L};
